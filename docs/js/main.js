const f=document.querySelector(".js-movies-container"),r=document.querySelector(".js-favorites-container"),h=document.querySelector(".js-input-search"),v=document.querySelector(".js-search-button"),L=document.querySelector(".js-reset-button"),S=document.querySelector(".js-delete-favs-list"),F="https://api.jikan.moe/v4/anime?q=",j="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png";let o=[],i=[];function y(t){console.log(t.currentTarget.id),console.log(o);const s=o.find(e=>Number(t.currentTarget.id)===e.mal_id);i.findIndex(e=>e.mal_id===Number(t.currentTarget.id))===-1&&i.push(s),u(i,r),localStorage.setItem("Favorites-films",JSON.stringify(i)),t.currentTarget.classList.add("film-selected")}const m=JSON.parse(localStorage.getItem("Favorites-films"));function u(t,s){s.innerHTML="";for(const e of t){const n=document.createElement("div");n.classList.add("film-container"),n.classList.add("js-film-container"),n.id=e.mal_id;const l=document.createElement("img");l.classList.add("film-img"),e.images.jpg.image_url===j?l.setAttribute("src","https://via.placeholder.com/225x314/00ffff/666666/?text=Image%20not%20available"):l.setAttribute("src",e.images.jpg.image_url),l.setAttribute("alt",e.title);const d=document.createElement("h3");d.classList.add("film-title");const g=document.createTextNode(`${e.title}`);d.appendChild(g);const c=document.createElement("i");c.classList.add("fa-solid"),c.classList.add("fa-circle-xmark"),c.classList.add("cross-icon"),c.classList.add("hidden"),n.appendChild(l),n.appendChild(d),n.appendChild(c),s.appendChild(n)}const a=document.querySelectorAll(".js-film-container");for(const e of a)e.addEventListener("click",y)}m!==null&&(i=m,u(m,r));function p(){const t=h.value,s=F+t;fetch(s).then(a=>a.json()).then(a=>{o=a.data,u(o,f)})}function E(){f.innerHTML="",r.innerHTML="",i=[],localStorage.clear()}function T(){r.innerHTML="",i=[],localStorage.clear()}v.addEventListener("click",p);L.addEventListener("click",E);S.addEventListener("click",T);h.addEventListener("keypress",t=>t.key==="Enter"&&p());
//# sourceMappingURL=main.js.map
